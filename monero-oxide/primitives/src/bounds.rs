/*
  ドキュメントをまとめるためだけに存在する小さなユーティリティ群。
  これらの境界（bounds）はコードベースの複数箇所で定義されるため、同じ説明を
  繰り返すのは煩雑であり、このファイルに集約しています。
*/

/// `const` コンテキストで使える `max` 相当のマクロ。
///
/// 注意: これはライブラリの公開 API の一部として安定を保証するものではありません。
/// `const` 内ではトレイト境界（`Ord`）を表現できないため、任意の式に対して動作する
/// マクロとして実装しています。
#[doc(hidden)]
#[macro_export]
macro_rules! const_max {
  ($a: expr, $b: expr) => {
    if $a > $b {
      // $a が大きければそれを返す
      $a
    } else {
      // そうでなければ $b を返す
      $b
    }
  };
}

/// `const` コンテキストで使える `min` 相当のマクロ。
///
/// `const_max` と同様の理由でマクロとして提供されています。
#[doc(hidden)]
#[macro_export]
macro_rules! const_min {
  ($a: expr, $b: expr) => {
    if $a < $b {
      // $a が小さければそれを返す
      $a
    } else {
      // そうでなければ $b を返す
      $b
    }
  };
}

/// 値に対する上界（upper bound）を表す型ヒント。
///
/// 実務的には最小の上界を保証するものではなく、あくまで「正しい（安全な）上界」を示す
/// ために使います。Monero プロトコルの将来的な変更に伴いこの値が変化しても SemVer 的に
/// 破壊的変更と見なさない設計です（サイズのヒント用途）。
pub struct UpperBound<U>(pub U);

/// 値に対する下界（lower bound）を表す型ヒント。
///
/// 上界と同様に、最大の下界を保証するものではなく、単に安全な下限を示す目的で使います。
/// 例えば `0` が常に有効な下界であるような場合、この型はそのようなヒントを提供します。
pub struct LowerBound<U>(pub U);
